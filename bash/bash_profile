# .bash_profile

# Set a variable to let .bashrc know this has run
export BASH_PROFILE_READ=1

# Add applicable dirs to path (if they are not there already and they exist)
pathdirs="$HOME/.local/bin /usr/local/bin $HOME/bin $HOME/.yarn/bin $HOME/go/bin/"
for p in $pathdirs; do
    if [[ $PATH != *:$p:* && -d $p ]]; then
        PATH=$PATH:$p
    fi
done
export PATH

# Set vim to default editor
if hash nvim 2> /dev/null; then # Use nvim if we have it
    export VISUAL=nvim
else
    export VISUAL=vim
fi
export EDITOR=$VISUAL

# Get better ls colors on Mac OS
if [[ "$(uname -s)" == "Darwin"  ]]; then
    export LSCOLORS='Exgxcxdxbxegedabagacad'
fi

# Let GPG know we dont have a GUI
export GPG_TTY=$(tty)

# Nvm wants this
export NVM_DIR="$HOME/.nvm"
[ -s "$NVM_DIR/nvm.sh" ] && \. "$NVM_DIR/nvm.sh"  # This loads nvm
[ -s "$NVM_DIR/bash_completion" ] && \. "$NVM_DIR/bash_completion"  # This loads nvm bash_completion

#SDKMAN wants this TO WORK!!!
export SDKMAN_DIR="/home/cfosli/.sdkman"
[[ -s "/home/cfosli/.sdkman/bin/sdkman-init.sh" ]] && source "/home/cfosli/.sdkman/bin/sdkman-init.sh"

# WSL Bash on Windows doesnt apply umask correctly
if [[ "$(umask)" == "0000" ]]; then
    umask 022
fi

# Automatically open ssh-agent on Git-Bash for Windows
[[ "$(uname -s)" == "MINGW64"*  ]] && . ~/dotfiles/scripts/auto_launch_ssh-agent_windows.sh

# Automatically open ssh-agent on Linux
[[ "$(uname -s)" == "Linux"* ]] && [[ "$SSH_AUTH_SOCK" == "" ]] && eval "$(ssh-agent -s)" &&\
ssh-add

# Get the aliases and functions
[[ -f ~/.bashrc ]] && . ~/.bashrc
